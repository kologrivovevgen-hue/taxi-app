<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ĞŸĞ¾Ğ¿ÑƒÑ‚Ñ‡Ğ¸Ğº 2026</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: 'Arial Black', Gadget, sans-serif; background: linear-gradient(135deg, #1e3c72, #2a5298); padding: 15px; color: #fff; }
        .card { background: #ffffff; padding: 20px; border-radius: 25px; box-shadow: 0 0 30px rgba(0,0,0,0.5); border: 4px solid #ffcc00; color: #333; }
        
        h2 { text-align: center; color: #ff0000; text-transform: uppercase; font-size: 26px; text-shadow: 2px 2px #ffff00; margin-bottom: 20px; }
        
        /* Ğ¦Ğ²ĞµÑ‚Ğ° Ğ´Ğ»Ñ Ğ¼ĞµÑ‚Ğ¾Ğº */
        .lbl-f { color: #00aa00; font-size: 18px; text-shadow: 1px 1px #eee; }
        .lbl-t { color: #ff4500; font-size: 18px; text-shadow: 1px 1px #eee; }
        .lbl-d { color: #0000ff; font-size: 18px; }
        .lbl-tm { color: #990099; font-size: 18px; }

        label { display: block; margin: 15px 0 5px; font-weight: 900; }
        
        /* Ğ¡Ñ‚Ğ¸Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ²Ñ‹Ğ¿Ğ°Ğ´Ğ°ÑÑ‰Ğ¸Ñ… ÑĞ¿Ğ¸ÑĞºĞ¾Ğ² Ñ Ñ†Ğ²ĞµÑ‚Ğ°Ğ¼Ğ¸ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ¾Ğ² */
        select, input { width: 100%; padding: 12px; border: 3px solid #333; border-radius: 15px; font-size: 18px; font-weight: bold; background: #fff; }
        
        /* Ğ Ğ°ÑĞºÑ€Ğ°ÑˆĞ¸Ğ²Ğ°ĞµĞ¼ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ¾Ğ² Ğ¿Ñ€ÑĞ¼Ğ¾ Ğ² ĞºĞ¾Ğ´Ğµ Ñ‡ĞµÑ€ĞµĞ· ÑĞµĞ»ĞµĞºÑ‚Ğ¾Ñ€Ñ‹, ĞµÑĞ»Ğ¸ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€ Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ */
        #f, #t { border-color: #0088cc; box-shadow: inset 0 0 5px rgba(0,0,0,0.2); }

        .option-row { display: flex; align-items: center; justify-content: space-between; margin: 15px 0; padding: 12px; background: #ffffcc; border-radius: 15px; border: 2px dashed #ff0000; }
        .option-row span { font-weight: bold; font-size: 16px; }
        
        .check-box { width: 30px; height: 30px; }
        
        /* Ğ¯Ñ€ĞºĞ¸Ğµ Ñ†Ğ¸Ñ„Ñ€Ñ‹ Ğ´Ğ»Ñ Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¾Ğº */
        #stops { color: #ff00ff; border: 3px solid #ff00ff; text-align: center; width: 60px; float: right; }

        /* Ğ˜Ğ¢ĞĞ“Ğ - Ğ¡Ğ°Ğ¼Ğ¾Ğµ ÑÑ€ĞºĞ¾Ğµ Ğ¼ĞµÑÑ‚Ğ¾ */
        .total-box { text-align: center; margin: 25px 0; background: #000; padding: 15px; border-radius: 20px; border: 3px solid #00ff00; }
        .total-label { color: #fff; font-size: 22px; }
        #pr { font-size: 40px; font-weight: 900; color: #00ff00; text-shadow: 0 0 10px #00ff00; }

        button { width: 100%; padding: 20px; background: #ff0000; color: #fff; border: none; border-radius: 50px; font-size: 22px; font-weight: 900; margin-top: 10px; box-shadow: 0 8px 0 #990000; cursor: pointer; text-shadow: 2px 2px #000; }
        button:active { box-shadow: 0 2px 0 #990000; transform: translateY(6px); }

        /* Ğ¦Ğ²ĞµÑ‚Ğ° Ğ´Ğ»Ñ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ñ… Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ¾Ğ² Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ ÑĞ¿Ğ¸ÑĞºĞ° (Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ¾ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ) */
        option[value="ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™"] { color: green; }
        option[value="ğŸ˜ï¸ ĞĞ¡Ğ¢ĞĞĞ˜ĞĞ"] { color: brown; }
        option[value="ğŸ¡ ĞŸĞ£Ğ”Ğ˜ĞĞ"] { color: darkblue; }
        option[value="ğŸŒ¾ Ğ›Ğ£Ğ¨ĞĞ˜ĞšĞĞ’Ğ"] { color: gold; }
    </style>
</head>
<body>
    <div class="card">
        <h2>ğŸš– Ğ¢ĞĞšĞ¡Ğ˜ ĞŸĞĞŸĞ£Ğ¢Ğ§Ğ˜Ğš ğŸš–</h2>
        
        <label class="lbl-f">ğŸŸ¢ ĞĞ¢ĞšĞ£Ğ”Ğ:</label>
        <select id="f" onchange="calc()">
            <option style="color: #008000;">ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™</option>
            <option style="color: #a52a2a;">ğŸ˜ï¸ ĞĞ¡Ğ¢ĞĞĞ˜ĞĞ</option>
            <option style="color: #00008b;">ğŸ¡ ĞŸĞ£Ğ”Ğ˜ĞĞ</option>
            <option style="color: #daa520;">ğŸŒ¾ Ğ›Ğ£Ğ¨ĞĞ˜ĞšĞĞ’Ğ</option>
            <option style="color: #2f4f4f;">ğŸ—ï¸ ĞšĞ£Ğ›ĞĞ¦ĞšĞ˜Ğ™</option>
            <option style="color: #ff4500;">ğŸ  ĞšĞĞ›Ğ˜ĞĞ˜ĞĞ¡Ğš</option>
            <option style="color: #1e90ff;">âœˆï¸ ĞĞ­Ğ ĞĞŸĞĞ Ğ¢</option>
            <option style="color: #32cd32;">ğŸ Ğ”ĞĞ§Ğ˜</option>
        </select>
        
        <label class="lbl-t">ğŸ”´ ĞšĞ£Ğ”Ğ:</label>
        <select id="t" onchange="calc()">
            <option style="color: #a52a2a;">ğŸ˜ï¸ ĞĞ¡Ğ¢ĞĞĞ˜ĞĞ</option>
            <option style="color: #008000;">ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™</option>
            <option style="color: #00008b;">ğŸ¡ ĞŸĞ£Ğ”Ğ˜ĞĞ</option>
            <option style="color: #daa520;">ğŸŒ¾ Ğ›Ğ£Ğ¨ĞĞ˜ĞšĞĞ’Ğ</option>
            <option style="color: #2f4f4f;">ğŸ—ï¸ ĞšĞ£Ğ›ĞĞ¦ĞšĞ˜Ğ™</option>
            <option style="color: #ff4500;">ğŸ  ĞšĞĞ›Ğ˜ĞĞ˜ĞĞ¡Ğš</option>
            <option style="color: #1e90ff;">âœˆï¸ ĞĞ­Ğ ĞĞŸĞĞ Ğ¢</option>
            <option style="color: #32cd32;">ğŸ Ğ”ĞĞ§Ğ˜</option>
        </select>
        
        <label class="lbl-d">ğŸ“… Ğ”ĞĞ¢Ğ ĞŸĞĞ•Ğ—Ğ”ĞšĞ˜:</label>
        <select id="ds" onchange="calc()" style="color: #0000ff; border-color: #0000ff;"></select>
        
        <label class="lbl-tm">ğŸ•™ Ğ’Ğ Ğ•ĞœĞ¯:</label>
        <input type="time" id="tm" onchange="calc()" style="color: #990099; border-color: #990099;">
        
        <div class="option-row">
            <span style="color: #8b4513;">ğŸ“¦ Ğ“Ğ Ğ£Ğ— / Ğ‘ĞĞ“ĞĞ– <b style="color: #ff0000;">(+50)</b></span>
            <input type="checkbox" id="cargo" class="check-box" onchange="calc()">
        </div>
        
        <div class="option-row">
            <span style="color: #0000cd;">ğŸ‘¶ Ğ”Ğ•Ğ¢Ğ¡ĞšĞĞ• ĞšĞ Ğ•Ğ¡Ğ›Ğ <b style="color: #ff0000;">(+50)</b></span>
            <input type="checkbox" id="kids" class="check-box" onchange="calc()">
        </div>
        
        <div style="overflow: hidden; margin-top: 10px;">
            <label style="color: #ff00ff; float: left;">ğŸ›‘ ĞĞ¡Ğ¢ĞĞĞĞ’ĞšĞ˜:</label>
            <input type="number" id="stops" value="0" min="0" onchange="calc()">
        </div>

        <div class="total-box">
            <div class="total-label">ğŸ’° Ğš ĞĞŸĞ›ĞĞ¢Ğ•:</div>
            <span id="pr">400Ñ€</span>
        </div>
        
        <button onclick="send()">ĞŸĞĞ•Ğ¥ĞĞ›Ğ˜! ğŸš€</button>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        const P = {
            "ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™-ğŸ˜ï¸ ĞĞ¡Ğ¢ĞĞĞ˜ĞĞ": 300, "ğŸ˜ï¸ ĞĞ¡Ğ¢ĞĞĞ˜ĞĞ-ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™": 300,
            "ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™-ğŸ¡ ĞŸĞ£Ğ”Ğ˜ĞĞ": 350, "ğŸ¡ ĞŸĞ£Ğ”Ğ˜ĞĞ-ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™": 350,
            "ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™-ğŸŒ¾ Ğ›Ğ£Ğ¨ĞĞ˜ĞšĞĞ’Ğ": 400, "ğŸŒ¾ Ğ›Ğ£Ğ¨ĞĞ˜ĞšĞĞ’Ğ-ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™": 400,
            "ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™-ğŸ—ï¸ ĞšĞ£Ğ›ĞĞ¦ĞšĞ˜Ğ™": 450, "ğŸ—ï¸ ĞšĞ£Ğ›ĞĞ¦ĞšĞ˜Ğ™-ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™": 450,
            "ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™-ğŸ  ĞšĞĞ›Ğ˜ĞĞ˜ĞĞ¡Ğš": 500, "ğŸ  ĞšĞĞ›Ğ˜ĞĞ˜ĞĞ¡Ğš-ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™": 500,
            "ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™-ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™": 200, "ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™-âœˆï¸ ĞĞ­Ğ ĞĞŸĞĞ Ğ¢": 400,
            "âœˆï¸ ĞĞ­Ğ ĞĞŸĞĞ Ğ¢-ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™": 400, "ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™-ğŸ Ğ”ĞĞ§Ğ˜": 400,
            "ğŸ Ğ”ĞĞ§Ğ˜-ğŸŒ² ĞšĞ•Ğ”Ğ ĞĞ’Ğ«Ğ™": 400, "ğŸ  ĞšĞĞ›Ğ˜ĞĞ˜ĞĞ¡Ğš-âœˆï¸ ĞĞ­Ğ ĞĞŸĞĞ Ğ¢": 450,
            "ğŸ  ĞšĞĞ›Ğ˜ĞĞ˜ĞĞ¡Ğš-ğŸ Ğ”ĞĞ§Ğ˜": 950, "ğŸ—ï¸ ĞšĞ£Ğ›ĞĞ¦ĞšĞ˜Ğ™-ğŸ Ğ”ĞĞ§Ğ˜": 900,
            "ğŸŒ¾ Ğ›Ğ£Ğ¨ĞĞ˜ĞšĞĞ’Ğ-ğŸ Ğ”ĞĞ§Ğ˜": 850, "ğŸ¡ ĞŸĞ£Ğ”Ğ˜ĞĞ-ğŸ Ğ”ĞĞ§Ğ˜": 800,
            "ğŸ˜ï¸ ĞĞ¡Ğ¢ĞĞĞ˜ĞĞ-ğŸ Ğ”ĞĞ§Ğ˜": 750, "ğŸ—ï¸ ĞšĞ£Ğ›ĞĞ¦ĞšĞ˜Ğ™-âœˆï¸ ĞĞ­Ğ ĞĞŸĞĞ Ğ¢": 450,
            "ğŸŒ¾ Ğ›Ğ£Ğ¨ĞĞ˜ĞšĞĞ’Ğ-âœˆï¸ ĞĞ­Ğ ĞĞŸĞĞ Ğ¢": 450, "ğŸ¡ ĞŸĞ£Ğ”Ğ˜ĞĞ-âœˆï¸ ĞĞ­Ğ ĞĞŸĞĞ Ğ¢": 450,
            "ğŸ˜ï¸ ĞĞ¡Ğ¢ĞĞĞ˜ĞĞ-âœˆï¸ ĞĞ­Ğ ĞĞŸĞĞ Ğ¢": 450
        };

        function fill() {
            const s = document.getElementById('ds');
            const now = new Date();
            for(let i=0; i<3; i++) {
                let d = new Date(); d.setDate(now.getDate() + i);
                let label = (i===0?"Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ ":(i===1?"Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ° ":"")) + d.toLocaleDateString('ru-RU',{month:'short',day:'numeric'});
                s.add(new Option(label, d.toISOString().split('T')[0]));
            }
            document.getElementById('tm').value = String(now.getHours()).padStart(2,'0')+":"+String(now.getMinutes()).padStart(2,'0');
        }

        function calc() {
            let f = document.getElementById('f').value, t = document.getElementById('t').value;
            let base = P[f+"-"+t] || 400;
            let h = parseInt(document.getElementById('tm').value.split(':')[0]);
            if(h >= 22 || h < 8) base *= 2;
            if(document.getElementById('cargo').checked) base += 50;
            if(document.getElementById('kids').checked) base += 50; 
            base += (parseInt(document.getElementById('stops').value) * 50);
            document.getElementById('pr').innerText = base + "Ñ€";
        }

        function send() {
            tg.sendData(JSON.stringify({
                from: document.getElementById('f').value, to: document.getElementById('t').value,
                date: document.getElementById('ds').options[document.getElementById('ds').selectedIndex].text,
                time: document.getElementById('tm').value,
                cargo: document.getElementById('cargo').checked ? "Ğ”Ğ°" : "ĞĞµÑ‚",
                kids: document.getElementById('kids').checked ? "Ğ”Ğ°" : "ĞĞµÑ‚",
                stops: document.getElementById('stops').value,
                price: document.getElementById('pr').innerText
            }));
        }
        fill(); calc();
    </script>
</body>
</html>