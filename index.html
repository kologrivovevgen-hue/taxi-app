<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --tg-color: #0088cc; }
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; margin: 0; padding: 10px; padding-bottom: 30px; }
        
        /* –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è */
        .card { background: white; border-radius: 25px; overflow: hidden; box-shadow: 0 15px 35px rgba(0,0,0,0.1); max-width: 420px; margin: auto; }
        
        /* –ö—Ä–∞—Å–∏–≤–∞—è —à–∞–ø–∫–∞ —Å —Ñ–æ–Ω–æ–º */
        .header-img { 
            width: 100%; height: 200px; 
            background: linear-gradient(rgba(0,0,0,0.1), rgba(0,0,0,0.4)), 
                        url('https://img.freepik.com/free-photo/white-sedan-car-driving-on-the-road-at-night_114579-5066.jpg?t=st=1708436000~exp=1708439600~hmac=8e6b1d8f') center/cover;
            display: flex; align-items: flex-end; padding: 20px; box-sizing: border-box;
        }
        
        .header-title { color: white; text-shadow: 0 2px 10px rgba(0,0,0,0.5); font-size: 24px; font-weight: 900; letter-spacing: 1px; }

        .content { padding: 25px; }
        label { display: block; margin-top: 15px; font-size: 12px; font-weight: 800; color: #888; text-transform: uppercase; letter-spacing: 1px; }
        
        select, input { 
            width: 100%; padding: 14px; margin-top: 6px; border-radius: 12px; 
            border: 1px solid #eee; background: #f9f9f9; font-size: 16px; font-weight: 600;
            box-sizing: border-box; outline: none; transition: 0.3s;
        }
        select:focus, input:focus { border-color: var(--tg-color); background: #fff; }

        /* –ë–ª–æ–∫ —Ü–µ–Ω—ã */
        .price-container { 
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); 
            color: #1565c0; padding: 20px; border-radius: 18px; text-align: center; 
            margin-top: 25px; border: 1px solid #90caf9; 
        }
        .price-label { font-size: 14px; font-weight: 600; opacity: 0.8; }
        .price-value { font-size: 32px; font-weight: 900; display: block; margin-top: 5px; }

        .btn { 
            background: var(--tg-color); color: white; border: none; width: 100%; 
            padding: 20px; border-radius: 18px; font-size: 18px; font-weight: bold; 
            margin-top: 20px; cursor: pointer; transition: 0.2s; box-shadow: 0 5px 15px rgba(0, 136, 204, 0.3);
        }
        .btn:active { transform: scale(0.97); }

        .dev-box { text-align: center; margin-top: 30px; font-size: 11px; color: #bbb; font-weight: 600; }
        .dev-box b { color: #888; }
    </style>
</head>
<body>
    <div class="card">
        <div class="header-img">
            <div class="header-title">üöï –ü–û–ü–£–¢–ß–ò–ö 2026</div>
        </div>
        
        <div class="content">
            <label>üìç –û–¢–ö–£–î–ê –ü–†–ò–ï–•–ê–¢–¨:</label>
            <select id="f" onchange="calc()">
                <option>–ö–ï–î–†–û–í–´–ô</option><option>–û–°–¢–ê–ù–ò–ù–û</option><option>–ü–£–î–ò–ù–û</option>
                <option>–õ–£–®–ù–ò–ö–û–í–û</option><option>–ö–£–õ–ê–¶–ö–ò–ô</option><option>–ö–ê–õ–ò–ù–ò–ù–°–ö</option>
                <option>–ê–≠–†–û–ü–û–†–¢</option><option>–î–ê–ß–ò</option>
            </select>
            
            <label>üèÅ –ö–£–î–ê –ï–î–ï–ú:</label>
            <select id="t" onchange="calc()">
                <option>–û–°–¢–ê–ù–ò–ù–û</option><option>–ö–ï–î–†–û–í–´–ô</option><option>–ü–£–î–ò–ù–û</option>
                <option>–õ–£–®–ù–ò–ö–û–í–û</option><option>–ö–£–õ–ê–¶–ö–ò–ô</option><option>–ö–ê–õ–ò–ù–ò–ù–°–ö</option>
                <option>–ê–≠–†–û–ü–û–†–¢</option><option>–î–ê–ß–ò</option>
            </select>
            
            <label>üìÖ –í–†–ï–ú–Ø –ü–û–î–ê–ß–ò:</label>
            <input type="time" id="tm" value="12:00" onchange="calc()">

            <div class="price-container">
                <span class="price-label">–°–¢–û–ò–ú–û–°–¢–¨ –ü–û–ï–ó–î–ö–ò</span>
                <span class="price-value" id="total">300—Ä</span>
            </div>

            <button class="btn" onclick="send()">–ó–ê–ë–†–û–ù–ò–†–û–í–ê–¢–¨</button>

            <div class="dev-box">
                –†–ê–ó–†–ê–ë–û–¢–ö–ê: <b>–Ø –ò –¢–´ (GEMINI)</b> ü§ù
            </div>
        </div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();
        tg.headerColor = '#ffffff';

        const PRICES = {
            "–ö–ï–î–†–û–í–´–ô-–û–°–¢–ê–ù–ò–ù–û": 300, "–û–°–¢–ê–ù–ò–ù–û-–ö–ï–î–†–û–í–´–ô": 300,
            "–ö–ï–î–†–û–í–´–ô-–ü–£–î–ò–ù–û": 350, "–ü–£–î–ò–ù–û-–ö–ï–î–†–û–í–´–ô": 350,
            "–ö–ï–î–†–û–í–´–ô-–õ–£–®–ù–ò–ö–û–í–û": 400, "–õ–£–®–ù–ò–ö–û–í–û-–ö–ï–î–†–û–í–´–ô": 400,
            "–ö–ï–î–†–û–í–´–ô-–ö–£–õ–ê–¶–ö–ò–ô": 450, "–ö–£–õ–ê–¶–ö–ò–ô-–ö–ï–î–†–û–í–´–ô": 450,
            "–ö–ï–î–†–û–í–´–ô-–ö–ê–õ–ò–ù–ò–ù–°–ö": 500, "–ö–ê–õ–ò–ù–ò–ù–°–ö-–ö–ï–î–†–û–í–´–ô": 500,
            "–ö–ï–î–†–û–í–´–ô-–ö–ï–î–†–û–í–´–ô": 200,
            "–ö–ï–î–†–û–í–´–ô-–ê–≠–†–û–ü–û–†–¢": 400, "–ê–≠–†–û–ü–û–†–¢-–ö–ï–î–†–û–í–´–ô": 400,
            "–ö–ï–î–†–û–í–´–ô-–î–ê–ß–ò": 400, "–î–ê–ß–ò-–ö–ï–î–†–û–í–´–ô": 400,
            "–ü–£–î–ò–ù–û-–õ–£–®–ù–ò–ö–û–í–û": 300, "–õ–£–®–ù–ò–ö–û–í–û-–ü–£–î–ò–ù–û": 300,
            "–ü–£–î–ò–ù–û-–ö–ê–õ–ò–ù–ò–ù–°–ö": 400, "–ö–ê–õ–ò–ù–ò–ù–°–ö-–ü–£–î–ò–ù–û": 400
        };

        function calc() {
            let from = document.getElementById('f').value;
            let to = document.getElementById('t').value;
            let time = document.getElementById('tm').value;
            
            let key = from + "-" + to;
            let base = PRICES[key] || 400; 
            
            let hour = parseInt(time.split(':')[0]);
            let min = parseInt(time.split(':')[1]);
            
            let isNight = false;
            // –ù–æ—á–Ω–æ–π —Ç–∞—Ä–∏—Ñ 22:00 - 08:08
            if (hour >= 22 || hour < 8 || (hour === 8 && min <= 8)) {
                isNight = true;
                base *= 2;
            }

            document.getElementById('total').innerText = base + "—Ä" + (isNight ? " üåô" : " ‚òÄÔ∏è");
        }

        function send() {
            let data = {
                from: document.getElementById('f').value,
                to: document.getElementById('t').value,
                time: document.getElementById('tm').value,
                price: document.getElementById('total').innerText
            };
            tg.sendData(JSON.stringify(data));
        }
        
        calc();
    </script>
</body>
</html>